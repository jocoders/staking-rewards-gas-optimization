Compiling 41 files with Solc 0.8.25
Solc 0.8.25 finished in 622.73ms
Compiler run successful!

Ran 10 tests for test/StakingRewardsOptimized.t.sol:StakingRewardsTest
[PASS] testExit() (gas: 248141)
[PASS] testGetReward() (gas: 234733)
[PASS] testGetRewardForDuration() (gas: 13580)
[PASS] testLastTimeRewardApplicable() (gas: 11554)
[PASS] testNotifyRewardAmount() (gas: 244080)
[PASS] testRecoverERC20() (gas: 118726)
[PASS] testSetPaused() (gas: 43734)
[PASS] testSetRewardsDuration(uint256) (runs: 257, μ: 41533, ~: 41472)
[PASS] testStake() (gas: 189660)
[PASS] testWithdraw() (gas: 268769)
Suite result: ok. 10 passed; 0 failed; 0 skipped; finished in 914.88ms (1.09s CPU time)

Ran 10 tests for test/StakingRewards.t.sol:StakingRewardsTest
[PASS] testExit() (gas: 259942)
[PASS] testGetReward() (gas: 240468)
[PASS] testGetRewardForDuration() (gas: 13761)
[PASS] testLastTimeRewardApplicable() (gas: 11633)
[FAIL: revert: Provided reward too high; counterexample: calldata=0xc6127f3e0000000000000000145395c3622ea541a684df2ab3aa6b963aaed529a162606b args=[498404426767121188301129014151449152632634436671051554923 [4.984e56]]] testNotifyRewardAmount(uint256) (runs: 2, μ: 291714, ~: 291714)
[PASS] testRecoverERC20() (gas: 119364)
[PASS] testSetPaused() (gas: 65875)
[PASS] testSetRewardsDuration(uint256) (runs: 257, μ: 45648, ~: 45704)
[PASS] testStake() (gas: 195985)
[PASS] testWithdraw() (gas: 282693)
Suite result: FAILED. 9 passed; 1 failed; 0 skipped; finished in 916.38ms (1.13s CPU time)

╭------------------------------------------------+-----------------+--------+--------+--------+---------╮
| src/StakingRewards.sol:StakingRewards Contract |                 |        |        |        |         |
+=======================================================================================================+
| Deployment Cost                                | Deployment Size |        |        |        |         |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| 2160624                                        | 10073           |        |        |        |         |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
|                                                |                 |        |        |        |         |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                                  | Min             | Avg    | Median | Max    | # Calls |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| balanceOf                                      | 940             | 940    | 940    | 940    | 11      |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| exit                                           | 69364           | 69364  | 69364  | 69364  | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getReward                                      | 46119           | 46119  | 46119  | 46119  | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| getRewardForDuration                           | 4892            | 4892   | 4892   | 4892   | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| lastTimeRewardApplicable                       | 2677            | 2677   | 2677   | 2677   | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| notifyRewardAmount                             | 67884           | 81922  | 88941  | 88941  | 3       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| paused                                         | 555             | 555    | 555    | 555    | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| recoverERC20                                   | 44755           | 44755  | 44755  | 44755  | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| rewardRate                                     | 515             | 515    | 515    | 515    | 2       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| rewardsDuration                                | 493             | 493    | 493    | 493    | 256     |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| setPaused                                      | 52683           | 52683  | 52683  | 52683  | 1       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| setRewardsDuration                             | 27496           | 32380  | 32386  | 32680  | 256     |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| stake                                          | 129789          | 129789 | 129789 | 129789 | 7       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| totalSupply                                    | 500             | 500    | 500    | 500    | 7       |
|------------------------------------------------+-----------------+--------+--------+--------+---------|
| withdraw                                       | 77695           | 77695  | 77695  | 77695  | 1       |
╰------------------------------------------------+-----------------+--------+--------+--------+---------╯

╭------------------------------------------------------------------+-----------------+--------+--------+--------+---------╮
| src/StakingRewardsOptimized.sol:StakingRewardsOptimized Contract |                 |        |        |        |         |
+=========================================================================================================================+
| Deployment Cost                                                  | Deployment Size |        |        |        |         |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| 1548568                                                          | 7349            |        |        |        |         |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
|                                                                  |                 |        |        |        |         |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                                                    | Min             | Avg    | Median | Max    | # Calls |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| balanceOf                                                        | 918             | 918    | 918    | 918    | 9       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| exit                                                             | 62120           | 62120  | 62120  | 62120  | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| getReward                                                        | 43909           | 43909  | 43909  | 43909  | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| getRewardForDuration                                             | 4624            | 4624   | 4624   | 4624   | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| lastTimeRewardApplicable                                         | 2586            | 2586   | 2586   | 2586   | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| notifyRewardAmount                                               | 47857           | 47857  | 47857  | 47857  | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| paused                                                           | 584             | 584    | 584    | 584    | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| recoverERC20                                                     | 44117           | 44117  | 44117  | 44117  | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| rewardRate                                                       | 493             | 493    | 493    | 493    | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| setPaused                                                        | 30535           | 30535  | 30535  | 30535  | 1       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| setRewardsDuration                                               | 30275           | 30408  | 30347  | 30659  | 256     |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| stake                                                            | 123515          | 123515 | 123515 | 123515 | 5       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| totalSupply                                                      | 471             | 471    | 471    | 471    | 5       |
|------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| withdraw                                                         | 70095           | 70095  | 70095  | 70095  | 1       |
╰------------------------------------------------------------------+-----------------+--------+--------+--------+---------╯


Ran 2 test suites in 953.91ms (1.83s CPU time): 19 tests passed, 1 failed, 0 skipped (20 total tests)

Failing tests:
Encountered 1 failing test in test/StakingRewards.t.sol:StakingRewardsTest
[FAIL: revert: Provided reward too high; counterexample: calldata=0xc6127f3e0000000000000000145395c3622ea541a684df2ab3aa6b963aaed529a162606b args=[498404426767121188301129014151449152632634436671051554923 [4.984e56]]] testNotifyRewardAmount(uint256) (runs: 2, μ: 291714, ~: 291714)

Encountered a total of 1 failing tests, 19 tests succeeded
